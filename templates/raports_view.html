{% extends 'index.html' %}

{% block content %}

<div class="main_container">
    <div class="left">
        <div class="form_fixed">
            <form action="raports_view" method="post">
                {% csrf_token %}
                <input type="text" name="title" placeholder="Tytuł szukanego"><br>
                <input type="text" name="content" placeholder="Słowo klucz w treści"><br>
                <input type="text" name="name" placeholder="Imię autora"><br>
                <input type="text" name="lastname" placeholder="Nazwisko autora"><br>
                <input type="text" name="date" placeholder="Przedział dat raportu"><br>
                <script type="text/javascript">
                    $(function() {

                      $('input[name="date"]').daterangepicker({
                          autoUpdateInput: false,
                          locale: {
                              cancelLabel: 'Clear'
                          }
                      });

                      $('input[name="date"]').on('apply.daterangepicker', function(ev, picker) {
                          $(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
                      });

                      $('input[name="date"]').on('cancel.daterangepicker', function(ev, picker) {
                          $(this).val('');
                      });

                    });
                    </script>
                <button>SZUKAJ</button>
            </form>
        </div>
    </div>
    <div class="right">

        {% for raport in raports %}
            <div class="form_raports">
                <form action="{% url 'raports_edit' raport.id %}" method="get">
                    <span class="title">{{raport.title}}</span><br><br>
                    <textarea disabled id="rap" rows="10">{{raport.content}}</textarea>
                    <input class="name" disabled type="text" value="{{raport.author_name}} {{raport.author_lastname}}"><br>
                    <input disabled type="text" value="{{raport.dateTime.day|stringformat:'02d'}}-{{raport.dateTime.month|stringformat:'02d'}}-{{raport.dateTime.year}}"><br>
                    <button>Edytuj</button>
                </form>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}